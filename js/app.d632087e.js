(function(){"use strict";var e={4032:function(e,t,o){var n=o(5130),l=o(6768),d=o(4232);const i=(0,l.Lk)("h3",null,"My To-Do List",-1),a={class:"all"},s={class:"undone"},u={class:"done"};function r(e,t,o,r,c,b){const m=(0,l.g2)("to-do-form"),h=(0,l.g2)("to-do-item");return(0,l.uX)(),(0,l.CE)(l.FK,null,[i,(0,l.Lk)("div",null,[(0,l.bF)(m,{onTodoAdded:b.addTodo},null,8,["onTodoAdded"]),(0,l.Lk)("button",{class:"filterBtn",onClick:t[0]||(t[0]=(...e)=>b.filterAll&&b.filterAll(...e))},[(0,l.bo)((0,l.Lk)("span",null,"▶ ",512),[[n.aG,"all"===c.showMode]]),(0,l.eW)(" 全部("+(0,d.v_)(c.todoItems.length)+") ",1)]),(0,l.Lk)("button",{class:"filterBtn",onClick:t[1]||(t[1]=(...e)=>b.filterUndone&&b.filterUndone(...e))},[(0,l.bo)((0,l.Lk)("span",null,"▶ ",512),[[n.aG,"undone"===c.showMode]]),(0,l.eW)(" 進行中("+(0,d.v_)(c.todoItems.length-b.doneItemCount)+") ",1)]),(0,l.Lk)("button",{class:"filterBtn",onClick:t[2]||(t[2]=(...e)=>b.filterDone&&b.filterDone(...e))},[(0,l.bo)((0,l.Lk)("span",null,"▶ ",512),[[n.aG,"done"===c.showMode]]),(0,l.eW)(" 已完成("+(0,d.v_)(b.doneItemCount)+") ",1)]),(0,l.Lk)("button",{class:"cleanBtn",onClick:t[3]||(t[3]=(...e)=>b.deleteAll&&b.deleteAll(...e))},"全部清除")]),(0,l.bo)((0,l.Lk)("div",a,[(0,l.bF)(n.F,{tag:"ul",class:"number-list",name:"list"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.todoItems,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[(0,l.bF)(h,{label:e.label,done:e.done,id:e.id,onCheckboxChanged:t=>b.updateState(e.id),onItemDeleted:t=>b.deleteToDo(e.id),onLabelEdited:t=>b.editTodo(e.id,t)},null,8,["label","done","id","onCheckboxChanged","onItemDeleted","onLabelEdited"])])))),128))])),_:1})],512),[[n.aG,"all"===c.showMode]]),(0,l.bo)((0,l.Lk)("div",s,[(0,l.bF)(n.F,{tag:"ul",class:"number-list",name:"list"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.todoItems,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[e.done?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(h,{key:0,label:e.label,done:e.done,id:e.id,onCheckboxChanged:t=>b.updateState(e.id),onItemDeleted:t=>b.deleteToDo(e.id),onLabelEdited:t=>b.editTodo(e.id,t)},null,8,["label","done","id","onCheckboxChanged","onItemDeleted","onLabelEdited"]))])))),128))])),_:1})],512),[[n.aG,"undone"===c.showMode]]),(0,l.bo)((0,l.Lk)("div",u,[(0,l.bF)(n.F,{tag:"ul",class:"number-list",name:"list"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.todoItems,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[e.done?((0,l.uX)(),(0,l.Wv)(h,{key:0,label:e.label,done:e.done,id:e.id,onCheckboxChanged:t=>b.updateState(e.id),onItemDeleted:t=>b.deleteToDo(e.id),onLabelEdited:t=>b.editTodo(e.id,t)},null,8,["label","done","id","onCheckboxChanged","onItemDeleted","onLabelEdited"])):(0,l.Q3)("",!0)])))),128))])),_:1})],512),[[n.aG,"done"===c.showMode]])],64)}o(4114);const c={key:0,class:"todos"},b={class:"todo-item"},m=["id","checked"],h={class:"btn-group"};function f(e,t,o,n,i,a){const s=(0,l.g2)("to-do-item-edit");return i.isEditing?((0,l.uX)(),(0,l.Wv)(s,{key:1,id:o.id,label:o.label,onEditCancelled:a.editCancelled,onLabelEdited:a.labelEdited},null,8,["id","label","onEditCancelled","onLabelEdited"])):((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",b,[(0,l.Lk)("input",{type:"checkbox",id:o.id,checked:a.isDone,autocomplete:"off",onChange:t[0]||(t[0]=t=>e.$emit("checkbox-changed"))},null,40,m),(0,l.Lk)("label",{class:(0,d.C4)({doneLabel:o.done})},(0,d.v_)(o.label),3)]),(0,l.Lk)("div",h,[(0,l.Lk)("button",{class:"btn",onClick:t[1]||(t[1]=e=>i.isEditing=!0),ref:"editBtn"},"Edit",512),(0,l.Lk)("button",{class:"btn warning",onClick:t[2]||(t[2]=(...e)=>a.deleteToDo&&a.deleteToDo(...e))},"Delete")])]))}const p=e=>((0,l.Qi)("data-v-621b085e"),e=e(),(0,l.jt)(),e),k={class:"edit-item"},g={class:"btn-group"},v=p((()=>(0,l.Lk)("button",{class:"btn primary",type:"submit"},"Save",-1)));function C(e,t,o,d,i,a){return(0,l.uX)(),(0,l.CE)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,l.Lk)("div",k,[(0,l.bo)((0,l.Lk)("input",{type:"text",ref:"labelInput",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=e=>i.newLabel=e)},null,512),[[n.Jo,i.newLabel,void 0,{lazy:!0,trim:!0}]])]),(0,l.Lk)("div",g,[(0,l.Lk)("button",{class:"btn",type:"button",onClick:t[1]||(t[1]=(...e)=>a.onCancel&&a.onCancel(...e))},"Cancel"),v])],32)}var I={name:"ToDoItemEdit",data(){return{newLabel:this.label}},props:{label:{type:String,required:!0},id:{type:String,required:!0}},emits:{"edit-cancelled":null,"label-edited":null},methods:{onCancel(){this.$emit("edit-cancelled")},onSubmit(){this.newLabel!==this.label&""!==this.newLabel&&this.$emit("label-edited",this.newLabel)}},mounted(){const e=this.$refs.labelInput;e.focus()}},L=o(1241);const y=(0,L.A)(I,[["render",C],["__scopeId","data-v-621b085e"]]);var E=y,w={name:"ToDoItem",components:{ToDoItemEdit:E},data(){return{isEditing:!1}},props:{label:{type:String,required:!0},done:{type:Boolean,default:!1},id:{type:String,required:!0}},emits:{"item-deleted":null,"checkbox-changed":null,"label-edited":null},methods:{deleteToDo(){this.$emit("item-deleted")},editCancelled(){this.isEditing=!1,this.focusOnEditButton()},labelEdited(e){this.$emit("label-edited",e),this.isEditing=!1,this.focusOnEditButton()},focusOnEditButton(){this.$nextTick((()=>{const e=this.$refs.editBtn;e.focus()}))}},computed:{isDone(){return this.done}}};const D=(0,L.A)(w,[["render",f],["__scopeId","data-v-599d71e2"]]);var S=D;const T=e=>((0,l.Qi)("data-v-73736d7d"),e=e(),(0,l.jt)(),e),x=T((()=>(0,l.Lk)("button",{class:"btn submitBtn",type:"submit"}," + ",-1)));function O(e,t,o,d,i,a){return(0,l.uX)(),(0,l.CE)("form",{onSubmit:t[1]||(t[1]=(0,n.D$)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.label=e)},null,512),[[n.Jo,i.label,void 0,{trim:!0}]]),x],32)}var _={name:"ToDoForm",data(){return{label:""}},methods:{onSubmit(){""!==this.label&&this.$emit("todo-added",this.label),this.label=""}}};const F=(0,L.A)(_,[["render",O],["__scopeId","data-v-73736d7d"]]);var A=F,X=o(3165),M=o.n(X),B={name:"App",components:{ToDoItem:S,ToDoForm:A},data(){return{todoItems:[],showMode:"all"}},methods:{filterAll(){this.showMode="all"},filterUndone(){this.showMode="undone"},filterDone(){this.showMode="done"},updateState(e){const t=this.todoItems.find((t=>t.id===e));t.done=!t.done,this.localStorageUpdate()},addTodo(e){this.todoItems.push({id:M()("todo-"),label:e,done:!1}),this.localStorageUpdate()},deleteToDo(e){const t=this.todoItems.findIndex((t=>t.id===e));this.todoItems.splice(t,1),this.localStorageUpdate()},editTodo(e,t){const o=this.todoItems.find((t=>t.id===e));o.label=t,this.localStorageUpdate()},deleteAll(){this.todoItems=[],this.localStorageUpdate()},localStorageUpdate(){window.localStorage.setItem("myToDo",JSON.stringify(this.todoItems))}},computed:{doneItemCount(){let e=this.todoItems.filter((e=>e.done)).length;return e}},mounted(){let e=window.localStorage.getItem("myToDo");e||(window.localStorage.setItem("myToDo",JSON.stringify([])),e=window.localStorage.getItem("myToDo")),this.todoItems=JSON.parse(e)}};const U=(0,L.A)(B,[["render",r]]);var $=U;(0,n.Ef)($).mount("#app")}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var d=t[n]={exports:{}};return e[n].call(d.exports,d,d.exports,o),d.exports}o.m=e,function(){var e=[];o.O=function(t,n,l,d){if(!n){var i=1/0;for(r=0;r<e.length;r++){n=e[r][0],l=e[r][1],d=e[r][2];for(var a=!0,s=0;s<n.length;s++)(!1&d||i>=d)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(a=!1,d<i&&(i=d));if(a){e.splice(r--,1);var u=l();void 0!==u&&(t=u)}}return t}d=d||0;for(var r=e.length;r>0&&e[r-1][2]>d;r--)e[r]=e[r-1];e[r]=[n,l,d]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,d,i=n[0],a=n[1],s=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(s)var r=s(o)}for(t&&t(n);u<i.length;u++)d=i[u],o.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return o.O(r)},n=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(4032)}));n=o.O(n)})();
//# sourceMappingURL=app.d632087e.js.map